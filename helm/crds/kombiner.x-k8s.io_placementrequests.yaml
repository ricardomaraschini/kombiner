---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: placementrequests.kombiner.x-k8s.io
spec:
  group: kombiner.x-k8s.io
  names:
    kind: PlacementRequest
    listKind: PlacementRequestList
    plural: placementrequests
    singular: placementrequest
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: |-
          PlacementRequest is a pod placement request sent to the placement request
          controller by a scheduler.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: |-
              PlacementRequestSpec holds the desired state for a placement request,
              indicating its policy and also a group of bindings.
            properties:
              bindings:
                description: |-
                  Bingings is a list of bindings that the scheduler wants to have
                  processed by the placement request controller. Each binding contains
                  a pod and a node name, the controller will try to bind the pod to
                  the node.
                items:
                  description: |-
                    Binding represents a binding request for a pod to a node. It contains
                    the pod name, pod UID and the node name where the pod should be
                    scheduled. The bind is scoped to the PlacementRequest namespace.
                  properties:
                    nodeName:
                      description: NodeName is the name of the node where the pod
                        should be scheduled.
                      minLength: 1
                      type: string
                    podName:
                      description: PodName is the name of the pod that should be bound
                        to the node.
                      minLength: 1
                      type: string
                    podUID:
                      description: PodUID is the UID of the pod that should be bound
                        to the node.
                      type: string
                  required:
                  - nodeName
                  - podName
                  - podUID
                  type: object
                minItems: 1
                type: array
                x-kubernetes-list-type: atomic
              policy:
                description: |-
                  Policy indicates the relationship between the bindings in a
                  placement request.
                enum:
                - Lenient
                - AllOrNothing
                type: string
              priority:
                description: |-
                  Priority is an arbitrary integer, placement requests with a higher
                  priority are served first when processing the scheduler queue.
                type: integer
              schedulerName:
                description: |-
                  SchedulerName is the name of the scheduler that is responsible for
                  creating this placement request. This is used to identify the
                  queue that the placement request belongs to.
                minLength: 1
                type: string
            required:
            - bindings
            - policy
            - priority
            - schedulerName
            type: object
          status:
            description: |-
              Status holds the current status of the placement request, it contains
              the result of the processing, a reason and a message.
            properties:
              bindings:
                description: |-
                  Bindings is a list of individual binding results that correspond
                  to the bindings provided in the spec. Each binding result contains
                  the result of the binding, a reason and a message. The ObjectMeta
                  of each binding result is expected to match the ObjectMeta of the
                  corresponding binding in the spec.
                items:
                  description: |-
                    PlacementRequestBindingResult holds the result of a single binding
                    inside a PlacementRequest object.
                  properties:
                    binding:
                      description: |-
                        Binding represents a binding request for a pod to a node. It contains
                        the pod name, pod UID and the node name where the pod should be
                        scheduled. The bind is scoped to the PlacementRequest namespace.
                      properties:
                        nodeName:
                          description: NodeName is the name of the node where the
                            pod should be scheduled.
                          minLength: 1
                          type: string
                        podName:
                          description: PodName is the name of the pod that should
                            be bound to the node.
                          minLength: 1
                          type: string
                        podUID:
                          description: PodUID is the UID of the pod that should be
                            bound to the node.
                          type: string
                      required:
                      - nodeName
                      - podName
                      - podUID
                      type: object
                    message:
                      type: string
                    reason:
                      type: string
                    result:
                      description: |-
                        PlacementRequestResult represents the outcome of the processing of
                        a given placement request.
                      type: string
                  required:
                  - binding
                  - result
                  type: object
                type: array
                x-kubernetes-list-type: atomic
              message:
                description: |-
                  Message is a human-readable message indicating the reason for the
                  result of the placement request. This is intended to be used for
                  debugging purposes and should not be used for machine processing.
                type: string
              reason:
                description: |-
                  Reason is a short, machine-readable string indicating the reason
                  for the result of the placement request.
                type: string
              result:
                description: Result indicates the overall result of the placement
                  request.
                type: string
            required:
            - result
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
