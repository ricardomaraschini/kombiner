# this should never be used in production and is intended for testing.
{{- range $i, $scheduler := .Values.schedulers }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ $scheduler.name }}
data:
  config.yaml: |-
    apiVersion: kubescheduler.config.k8s.io/v1
    kind: KubeSchedulerConfiguration
    leaderElection:
      resourceName: {{ $scheduler.name }}
    profiles:
    - schedulerName: {{ $scheduler.name }}
      plugins:
        bind:
          enabled:
          - name: PlacementRequestBinder
          disabled:
          - name: "*"
      pluginConfig:
      - name: PlacementRequestBinder
        args:
          timeout: 5s
{{- end }}
